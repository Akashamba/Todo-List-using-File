import PySimpleGUI as s
import file

lst=[]
lst=file.fileread()
layout=[
    [s.Text("TO-DO List")],
    [s.Text("Enter New Task to be added"),s.InputText("",key='data'),s.Button("ADD")],
    [s.Text("Enter Task to be removed"),s.InputText("",key='remove'),s.Button("CLEAR")],
    [s.Button("CLEAR LIST"),s.Button("EXIT")],
    [s.Listbox(lst,size=(50,10),key='box')]
]

w=s.Window("My",layout)


while True:
    button,values=w.Read()
    w.FindElement('box').Update(lst)
    flag=0
    if button=="ADD":
        lst.append(values['data'])
        w.FindElement('data').Update("")
        w.FindElement('box').Update(lst)
        file.filewrite(lst)

    elif button=="CLEAR":
        lst.remove(values['remove'])
        file.filedelete(lst,values['remove'])
        w.FindElement('remove').Update("")
        w.FindElement('box').Update(lst)


    elif button=="EXIT":
        break

    elif button=="CLEAR LIST":
        w.FindElement('box').Update("")
        lst.clear()
        print(lst)
        file.fileclear()